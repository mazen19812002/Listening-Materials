<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listening Comprehension Test</title>
    <style>
        :root {
            --bg-color: #e0f2fe;
            --primary-dark: #1e3a8a;
            --success-green: #16a34a;
            --error-red: #dc2626;
            --card-bg: #ffffff;
            --text-color: #000000;
            --base-font-size: 20px;
        }

        * {
            box-sizing: border-box;
            transition: transform 0.2s ease-in-out;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            font-family: "Segoe UI", Roboto, Arial, sans-serif;
            color: var(--text-color);
            font-size: var(--base-font-size);
            line-height: 1.3;
            overflow-x: hidden;
        }

        /* Header & Navigation */
        #top-interface {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            transition: transform 0.3s ease-in-out;
        }

        .header-bar {
            background-color: var(--primary-dark);
            color: white;
            padding: 5px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .audio-bar {
            background: #f8fafc;
            border-bottom: 2px solid #cbd5e1;
            padding: 8px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        audio {
            width: 100%;
            max-width: 800px;
            height: 35px;
        }

        /* Controls */
        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        button {
            cursor: pointer;
            border: none;
            border-radius: 4px;
            font-weight: bold;
            padding: 6px 15px;
            text-transform: uppercase;
            font-size: 14px;
        }

        .btn-tab {
            background: #334155;
            color: white;
        }

        .btn-tab.active {
            background: white;
            color: var(--primary-dark);
        }

        .btn-zoom {
            background: #ffffff;
            color: var(--primary-dark);
            border: 1px solid var(--primary-dark);
        }

        .btn-toggle {
            background: #000;
            color: #fff;
            position: fixed;
            right: 20px;
            top: 85px;
            z-index: 1001;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        /* Content Area */
        .container {
            margin-top: 130px; /* Space for header + audio */
            padding: 20px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            padding-bottom: 80px;
        }

        h1, h2 {
            font-weight: 300;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 15px;
            text-align: center;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Question Cards */
        .question-card {
            background: var(--card-bg);
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        }

        .question-card:hover {
            transform: scale(1.01);
        }

        .question-text {
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .option-btn {
            text-align: left;
            padding: 10px;
            border: 1px solid #e2e8f0;
            background: #f1f5f9;
            border-radius: 6px;
            width: 100%;
            font-size: 0.9em;
            color: black;
            text-transform: none;
        }

        .option-btn:hover:not(:disabled) {
            background: #e2e8f0;
            transform: scale(1.02);
        }

        .option-btn:disabled {
            cursor: default;
        }

        /* Feedback Colors */
        .correct {
            background-color: var(--success-green) !important;
            color: white !important;
            border-color: #14532d !important;
        }

        .wrong {
            background-color: var(--error-red) !important;
            color: white !important;
            border-color: #7f1d1d !important;
        }

        /* Transcript */
        #transcript-view {
            background: white;
            padding: 30px;
            border-radius: 8px;
            white-space: pre-line;
            border: 1px solid #cbd5e1;
        }

        /* Footer */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            text-align: center;
            padding: 10px;
            font-size: 14px;
            border-top: 1px solid #cbd5e1;
            z-index: 999;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            .header-bar {
                flex-direction: column;
                gap: 5px;
            }
        }

        /* State Modifiers */
        .header-hidden #top-interface {
            transform: translateY(-45px); /* Hide Top Bar, Keep Audio */
        }
    </style>
</head>
<body>

    <div id="top-interface">
        <div class="header-bar">
            <div class="nav-buttons">
                <button class="btn-tab active" onclick="switchTab('test', this)">Listening Test</button>
                <button class="btn-tab" onclick="switchTab('transcript', this)">Transcript</button>
            </div>
            <div class="nav-buttons">
                <button class="btn-zoom" onclick="adjustZoom(1)">A+</button>
                <button class="btn-zoom" onclick="adjustZoom(-1)">A-</button>
            </div>
        </div>
        <div class="audio-bar">
            <audio controls>
                <source src="00.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
    </div>

    <button class="btn-toggle" onclick="toggleHeader()">Hide/Show Controls</button>

    <div class="container" id="main-content">
        <!-- TEST VIEW -->
        <div id="test-view" class="tab-content active">
            <h2>Listening Test</h2>
            <div id="questions-container"></div>
        </div>

        <!-- TRANSCRIPT VIEW -->
        <div id="transcript-view" class="tab-content">
            <h2>Transcript</h2>
            <div id="transcript-text"></div>
        </div>
    </div>

    <footer>
        All rights are reserved to Dr. Mazen Badawy – Doctorate of English Teaching & Testing
    </footer>

    <script>
        // --- DATA ---
        const transcript = `Topic: Time Management and Meeting Deadlines
Speaker 1: During our last performance review, the manager highlighted that strong time management is essential for engineers, especially when handling multiple projects simultaneously.
Speaker 2: I agree. Without proper planning, even skilled engineers can miss deadlines. Managing workload efficiently is just as important as technical expertise.
Speaker 1: For me, the first step is setting priorities. I classify tasks based on urgency, complexity, and overall impact on the project. Critical tasks always come first.
Speaker 2: That’s a good strategy. I usually create a structured task list at the beginning of each week. It helps me visualize my responsibilities and allocate time properly.
Speaker 1: When I face a large project, I break it into smaller, manageable steps. Completing small milestones keeps me motivated and makes progress measurable.
Speaker 2: Exactly. Dividing work into stages also makes it easier to estimate time accurately and identify potential risks early.
Speaker 1: Another challenge is procrastination. Sometimes we delay difficult tasks because they seem overwhelming.
Speaker 2: True. To avoid that, I apply the “start small” technique. I begin with a simple part of the task, and once I start, it becomes easier to continue.
Speaker 1: I also set personal deadlines a few days before the official deadline. This buffer time helps me review my work and fix unexpected issues.
Speaker 2: Buffer time is very useful. Technical problems or urgent meetings can always appear unexpectedly, so planning ahead reduces pressure.
Speaker 1: However, sometimes delays are unavoidable despite good planning. In such cases, I believe clear communication is essential.
Speaker 2: Absolutely. Informing the project manager early allows the team to adjust schedules and redistribute tasks if necessary.
Speaker 1: I also use productivity tools like digital calendars, task management apps, and time-tracking software. These tools remind me of deadlines and help monitor my daily performance.
Speaker 2: I rely on collaborative platforms where team members can update task progress in real time. This improves transparency and accountability.
Speaker 1: Another method I use is scheduling focused work sessions. During these periods, I turn off notifications and avoid unnecessary meetings.
Speaker 2: That improves efficiency significantly. Multitasking often reduces quality, so concentrating on one task at a time produces better results.
Speaker 1: At the end of each day, I review what I accomplished and prepare a plan for the next day.
Speaker 2: Daily reflection ensures continuous improvement and keeps priorities aligned with overall project goals.
Speaker 1: So effective time management involves prioritizing tasks, breaking work into steps, avoiding procrastination, communicating delays early, and using productivity tools wisely.
Speaker 2: Exactly. Engineers who master these practices not only meet deadlines consistently but also enhance teamwork and professional reliability.`;

        const questions = [
            { q: "1. Why is time management important for engineers?", options: ["It replaces technical expertise completely", "It helps handle multiple projects efficiently", "It reduces the need for teamwork", "It eliminates project complexity"], correct: 1 },
            { q: "2. What does Speaker 1 consider first when planning tasks?", options: ["Office environment conditions", "Employee personal preferences", "Urgency and project impact", "Marketing department needs"], correct: 2 },
            { q: "3. Why does Speaker 2 create a weekly task list?", options: ["To visualize responsibilities clearly", "To avoid communicating with others", "To postpone difficult assignments", "To reduce project transparency"], correct: 0 },
            { q: "4. Breaking projects into milestones helps engineers:", options: ["Increase total workload unnecessarily", "Ignore project risks entirely", "Finish tasks without evaluation", "Measure progress more effectively"], correct: 3 },
            { q: "5. Procrastination usually happens when tasks are:", options: ["Too simple and repetitive", "Clearly defined and organized", "Overwhelming or complex", "Already completed successfully"], correct: 2 },
            { q: "6. What is the “start small” technique?", options: ["Canceling large projects immediately", "Beginning with a simple part first", "Delegating tasks without review", "Waiting until deadlines approach"], correct: 1 },
            { q: "7. Why does Speaker 1 set personal deadlines?", options: ["To create useful buffer time", "To reduce total assignments", "To delay official submission", "To avoid team meetings"], correct: 0 },
            { q: "8. Buffer time is important because:", options: ["It guarantees perfect results", "It removes project responsibility", "It prepares for unexpected problems", "It increases task complexity"], correct: 2 },
            { q: "9. What should engineers do if delays occur?", options: ["Remain silent and hope for solutions", "Inform the team as early as possible", "Blame external circumstances publicly", "Cancel the assigned project"], correct: 1 },
            { q: "10. Early communication allows teams to:", options: ["Redistribute tasks effectively", "Eliminate quality standards", "Reduce project goals permanently", "Increase unnecessary meetings"], correct: 0 },
            { q: "11. What tools does Speaker 1 mention?", options: ["Social media applications", "Entertainment software platforms", "Digital calendars and tracking tools", "Advertising design programs"], correct: 2 },
            { q: "12. Collaborative platforms mainly improve:", options: ["Office decoration planning", "Team transparency and accountability", "Financial auditing systems", "Personal entertainment options"], correct: 1 },
            { q: "13. Focused work sessions help engineers:", options: ["Increase distractions significantly", "Improve efficiency and quality", "Extend project duration", "Reduce concentration ability"], correct: 1 },
            { q: "14. Multitasking often:", options: ["Improves task accuracy", "Enhances project simplicity", "Reduces work quality", "Guarantees earlier completion"], correct: 2 },
            { q: "15. Daily reviews help engineers:", options: ["Align priorities with project goals", "Eliminate communication channels", "Increase unnecessary documentation", "Avoid planning responsibilities"], correct: 0 },
            { q: "16. Effective time management improves:", options: ["Office furniture arrangement", "Marketing campaign results", "Team conflicts frequently", "Professional reliability"], correct: 3 },
            { q: "17. Setting priorities prevents engineers from:", options: ["Completing urgent tasks", "Becoming overwhelmed by workload", "Communicating with managers", "Using productivity tools"], correct: 1 },
            { q: "18. Dividing work into stages helps identify:", options: ["Office maintenance costs", "Employee salary increases", "Potential risks early", "Marketing strategy failures"], correct: 2 },
            { q: "19. Time-tracking software helps engineers:", options: ["Monitor daily performance", "Eliminate project deadlines", "Reduce communication needs", "Avoid reporting tasks"], correct: 0 },
            { q: "20. Managing workload efficiently requires:", options: ["Ignoring urgent responsibilities", "Random task selection", "Clear planning and organization", "Eliminating teamwork completely"], correct: 2 },
            { q: "21. Communicating delays early shows:", options: ["Lack of preparation", "Professional responsibility", "Reduced confidence", "Weak technical skills"], correct: 1 },
            { q: "22. Breaking large tasks reduces:", options: ["Project transparency", "Motivation levels", "Feelings of being overwhelmed", "Communication efficiency"], correct: 2 },
            { q: "23. Engineers should prioritize tasks based on:", options: ["Personal convenience only", "Urgency and impact", "Office location preferences", "Marketing campaign schedules"], correct: 1 },
            { q: "24. Productivity tools mainly help to:", options: ["Increase office expenses", "Replace project managers", "Track deadlines accurately", "Cancel complex tasks"], correct: 2 },
            { q: "25. Good planning reduces:", options: ["Technical competence", "Workplace stress", "Professional growth", "Team collaboration"], correct: 1 },
            { q: "26. Concentrating on one task at a time:", options: ["Lowers efficiency", "Extends project deadlines", "Improves output quality", "Reduces accountability"], correct: 2 },
            { q: "27. Transparency in teamwork encourages:", options: ["Confusion among members", "Accountability and trust", "Task duplication errors", "Reduced communication"], correct: 1 },
            { q: "28. Reviewing daily progress supports:", options: ["Continuous improvement", "Increased procrastination", "Deadline postponement", "Project cancellation"], correct: 0 },
            { q: "29. Engineers who manage time effectively usually:", options: ["Miss deadlines frequently", "Experience constant stress", "Meet deadlines consistently", "Avoid collaborative tools"], correct: 2 },
            { q: "30. Overall, successful deadline management requires:", options: ["Ignoring minor tasks entirely", "Eliminating productivity software", "Avoiding communication", "Planning, focus, and early communication"], correct: 3 }
        ];

        // --- APP LOGIC ---
        let currentFontSize = 20;

        function initApp() {
            // Fill Transcript
            document.getElementById('transcript-text').innerText = transcript;

            // Render Questions
            const container = document.getElementById('questions-container');
            questions.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `q-${index}`;

                let optionsHtml = '';
                item.options.forEach((opt, optIndex) => {
                    optionsHtml += `
                        <button class="option-btn" onclick="checkAnswer(${index}, ${optIndex}, this)">
                            ${String.fromCharCode(65 + optIndex)}. ${opt}
                        </button>`;
                });

                card.innerHTML = `
                    <span class="question-text">${item.q}</span>
                    <div class="options-grid">${optionsHtml}</div>
                `;
                container.appendChild(card);
            });
        }

        function checkAnswer(questionIdx, selectedIdx, btn) {
            const correctIdx = questions[questionIdx].correct;
            const card = document.getElementById(`q-${questionIdx}`);
            const buttons = card.querySelectorAll('.option-btn');

            // Highlight correct
            buttons[correctIdx].classList.add('correct');

            // Highlight selected if wrong
            if (selectedIdx !== correctIdx) {
                btn.classList.add('wrong');
            }

            // Disable all buttons in this card
            buttons.forEach(b => b.disabled = true);
        }

        function switchTab(tabId, btn) {
            // Toggle active state on buttons
            document.querySelectorAll('.btn-tab').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // Toggle active tab content
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(tabId + '-view').classList.add('active');
            
            // Scroll to top
            window.scrollTo(0,0);
        }

        function adjustZoom(delta) {
            currentFontSize += (delta * 2);
            if (currentFontSize < 12) currentFontSize = 12;
            if (currentFontSize > 40) currentFontSize = 40;
            document.getElementById('main-content').style.fontSize = currentFontSize + 'px';
        }

        function toggleHeader() {
            document.body.classList.toggle('header-hidden');
            const btn = document.querySelector('.btn-toggle');
            btn.innerText = document.body.classList.contains('header-hidden') ? "Show Controls" : "Hide Controls";
        }

        // Initialize on load
        window.onload = initApp;
    </script>
</body>
</html>